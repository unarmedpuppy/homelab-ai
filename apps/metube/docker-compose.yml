version: "3"
services:
  metube:
    image: ghcr.io/alexta69/metube:latest
    container_name: metube
    restart: unless-stopped
    ports:
      - "8020:8081"
    volumes:
      - ./data:/downloads
    environment:
      # yt-dlp options to improve YouTube compatibility
      # Let yt-dlp auto-select best available client (will try multiple clients automatically)
      # Increased retries and timeout for better connection handling
      YTDL_OPTIONS: '{"retries": 10, "fragment_retries": 10, "file_access_retries": 3, "retry_sleep": 1, "socket_timeout": 30, "ignoreerrors": false, "no_warnings": false}'
    labels:
      - "homepage.group=Media & Entertainment"
      - "homepage.name=MyTube"
      - "homepage.icon=si-youtubekids"
      - "homepage.href=http://192.168.86.47:8020"
      - "homepage.description=Download & Save Youtube videos"