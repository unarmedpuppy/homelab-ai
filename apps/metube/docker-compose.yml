version: "3"
services:
  metube:
    image: ghcr.io/alexta69/metube:latest
    container_name: metube
    restart: unless-stopped
    ports:
      - "8020:8081"
    volumes:
      - ./data:/downloads
    environment:
      # yt-dlp options to improve YouTube compatibility
      # These options help with recent YouTube API changes
      YTDL_OPTIONS: '{"extractor_args": {"youtube": {"player_client": ["android", "web"]}}, "retries": 10, "fragment_retries": 10, "ignoreerrors": false}'
    labels:
      - "homepage.group=Apps"
      - "homepage.name=MyTube"
      - "homepage.icon=si-youtubekids"
      - "homepage.href=http://192.168.86.47:8020"
      - "homepage.description=Download & Save Youtube videos"