<!DOCTYPE html>
<html lang="mean">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSV Converter: Format A to Format B</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        #output {
            white-space: pre-wrap;
            background-color: #f0f0f0;
            padding: 10px;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <h1>CSV Converter: Format A to Format B</h1>
    <input type="file" id="csvFile" accept=".csv">
    <button onclick="convertCSV()">Convert</button>
    <h2>Output:</h2>
    <div id="output"></div>

    <script>
        function convertCSV() {
            const file = document.getElementById('csvFile').files[0];
            const reader = new FileReader();

            reader.onload = function(event) {
                const csv = event.target.result;
                const lines = csv.split('\n');
                const headers = lines[0].split(',');

                let output = 'Account,T/D,S/D,Currency,Type,Side,Symbol,Qty,Price,Exec Time,Comm,SEC,TAF,NSCC,Nasdaq,ECN Remove,ECN Add,Gross Proceeds,Net Proceeds,Clr Broker,Liq,Note\n';

                for (let i = 1; i < lines.length; i++) {
                    const columns = lines[i].split(',');
                    if (columns.length > 1) {
                        const runDate = columns[headers.indexOf('Run Date')] || '';
                        const symbol = columns[headers.indexOf('Symbol')] || '';
                        const quantity = columns[headers.indexOf('Quantity')] || '0';
                        const price = columns[headers.indexOf('Price ($)')] || '0';
                        const netProceeds = columns[headers.indexOf('Amount ($)')] || '0';

                        // Placeholder values for unmapped columns
                        const account = '';
                        const tradeDate = '';
                        const currency = '';
                        const type = '';
                        const side = '';
                        const execTime = '';
                        const comm = '';
                        const sec = '';
                        const taf = '';
                        const nscc = '';
                        const nasdaq = '';
                        const ecnRemove = '';
                        const ecnAdd = '';
                        const grossProceeds = '';
                        const clrBroker = '';
                        const liq = '';
                        const note = '';

                        output += `${account},${tradeDate},${runDate},${currency},${type},${side},${symbol},${quantity},${price},${execTime},${comm},${sec},${taf},${nscc},${nasdaq},${ecnRemove},${ecnAdd},${grossProceeds},${netProceeds},${clrBroker},${liq},${note}\n`;
                    }
                }

                document.getElementById('output').textContent = output;
            };

            reader.readAsText(file);
        }
    </script>
</body>
</html>