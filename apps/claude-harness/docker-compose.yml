# Claude Code Harness - Docker Compose (Standalone)
#
# For local testing only. Production uses homelab-ai docker-compose.
#
# First-time setup:
#   docker compose up -d
#   docker exec -it claude-harness claude
#   (Follow OAuth flow, then restart)

services:
  claude-harness:
    build:
      context: .
    container_name: claude-harness
    restart: unless-stopped
    ports:
      - "8013:8013"
    volumes:
      - claude-credentials:/home/appuser/.claude
    environment:
      - TZ=America/Chicago
    networks:
      - my-network
    labels:
      - "homepage.group=AI"
      - "homepage.name=Claude Harness"
      - "homepage.icon=mdi-robot"
      - "homepage.href=http://192.168.86.47:8013/health"
      - "homepage.description=Claude Code CLI API wrapper"

volumes:
  claude-credentials:

networks:
  my-network:
    external: true
